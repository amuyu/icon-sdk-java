buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.1'
    }
}

plugins {
    id 'java'
}
apply plugin: 'com.github.johnrengelman.shadow'

group 'foundation.icon'
version '0.9.11'

sourceCompatibility = JavaVersion.VERSION_1_6

repositories {
    mavenCentral()
}

jar {
    // main-clas 지정
    manifest {
        attributes 'Main-Class': 'foundation.icon.icx.SendIcxTransaction'
    }
    // dependency 에서 사용하는 lib 을 jar 로 묶기
    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    finalizedBy shadowJar
}

dependencies {
    implementation project(':library')

    implementation 'com.squareup.okhttp3:okhttp:3.11.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'
    implementation 'org.apache.httpcomponents:httpcore:4.4.1'
    implementation 'org.apache.httpcomponents:httpclient:4.5'
}
